{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwned","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","aria-label","length","Main","props","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onCardClick","Footer","PopupWithForm","isOpen","onClose","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","api","options","this","_baseUrl","baseUrl","_token","headers","authorization","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","method","body","JSON","stringify","cardId","_deleteLike","_setLike","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","profileSubmitButtonText","setProfileSubmitButtonText","avatarSubmitButtonText","setAvatarSubmitButtonText","cardSubmitButtonText","setCardSubmitButtonText","setCards","selectedCard","setSelectedCard","closeAllPopups","getCards","catch","err","console","log","getUserInfo","Provider","changeLikeCardStatus","newCard","state","currentCard","deleteCard","filter","setUserInfo","finally","addNewCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.712633e9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.5f3664ca.svg\";","import React from 'react';\nimport logoPath from './../images/header-logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"Логотип сервиса Mesto Russia\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwned = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `element__delete-btn ${isOwned ? '' : 'element__delete-btn_hidden'}`\n  );\n\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''}`\n  ); \n\n  const handleClick = () => {\n    onClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return(\n    <li className=\"element\">\n      <img onClick={handleClick} className=\"element__image\" src={card.link} alt={`Изображение ${card.name}`} />\n      <div className=\"element__desc\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\" aria-label=\"Поставить лайк\"></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить фотографию\"></button>\n    </li>\n  );\n\n}\n\nexport default Card; ","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile content__section\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Логотип профиля\" />\n          <button className=\"profile__avatar-btn\" aria-label=\"Обновить аватар\"\n          onClick={props.onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__bio\">{currentUser.about}</p>\n          <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Редактировать профиль\"\n          onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Добавить фотографию\"\n        onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements content__section\">\n        <ul className=\"elements__list\">\n        {props.cards.map((card) => (\n          <Card \n            key={card._id}\n            card={card}\n            onClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n          ))}          \n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name}  ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_form\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\"></button>\n        <form onSubmit={props.onSubmit} className=\"form\" name={`${props.name}-form`} noValidate>\n        <h2 className=\"form__heading\">{props.title}</h2>\n          <fieldset className=\"form__items\">\n            {props.children}\n          </fieldset>\n          <button className=\"form__submit-btn\" type=\"submit\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React, { useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const hanldeDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item form__item_el_name\"\n        id=\"profile-name\" \n        type=\"text\" \n        name=\"name\" \n        placeholder=\"Имя\" \n        minLength=\"2\" maxLength=\"40\"\n        value={name}\n        onChange={handleNameChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-name-error\"></p>\n      <input \n        className=\"form__item form__item_el_bio\"\n        id=\"profile-bio\" \n        type=\"text\" \n        name=\"about\" \n        placeholder=\"О себе\" \n        minLength=\"2\" maxLength=\"200\" \n        value={description}\n        onChange={hanldeDescriptionChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-bio-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item\"\n        id=\"avatar-url\"\n        type=\"url\"\n        name=\"avatar\"\n        ref={avatarRef}\n        placeholder=\"Ссылка на картинку\"\n        required \n      />\n      <p className=\"form__error\" id=\"avatar-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name,\n      link,\n    })\n  }\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const handleLinkChange = (e) => {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input\n        className=\"form__item form__item_el_name\"\n        id=\"item-name\"\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Название\"\n        minLength=\"2\" maxLength=\"30\"\n        value={name}\n        onChange={handleNameChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-name-error\"></p>\n      <input\n        className=\"form__item form__item_el_link\"\n        id=\"item-url\"\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        value={link}\n        onChange={handleLinkChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Закрыть окно\"></button>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={`${props.card.link}`} alt={`Изображение ${props.card.name}`} />\n          <figcaption className=\"popup__image-caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","class Api {\n  \n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._token = options.headers.authorization;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._handleResponse)\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._deleteLike(cardId);\n    } else {\n      return this._setLike(cardId);\n    }\n  }\n\n  _deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  _setLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: '2a6d7634-25aa-4e7e-bcf3-8309525480f9',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;\n","import React, {useState} from 'react';\nimport './../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Ирусик',\n    about: 'offline',\n    avatar: '',\n  });\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n\n  const [profileSubmitButtonText, setProfileSubmitButtonText] = useState('Сохранить');\n  const [avatarSubmitButtonText, setAvatarSubmitButtonText] = useState('Сохранить');\n  const [cardSubmitButtonText, setCardSubmitButtonText] = useState('Создать');\n\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  React.useEffect(() => {\n    api.getCards()\n      .then((res) => setCards(res))\n      .catch((err) => {\n        console.log(`Error: ${err}`);\n      })\n  })\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(`Error: ${err}`);\n      })\n  }, [])\n\n  const handleUpdateUser = (data) => {\n    setProfileSubmitButtonText('Сохранение...');\n\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user info. ${err}`);\n      })\n      .finally(() => {\n        setProfileSubmitButtonText('Сохранить');\n      })\n  }\n\n  const handleAddPlace = (data) => {\n    setCardSubmitButtonText('Сохранение...');\n\n    api.addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        setAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to publish a card. ${err}`);\n      })\n      .finally(() => {\n        setCardSubmitButtonText('Создать');\n      })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    setAvatarSubmitButtonText('Сохранение...');\n\n    api.setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user avatar. ${err}`);\n      })\n      .finally(() => {\n        setAvatarSubmitButtonText('Сохранить');\n      })\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((currentCard) => currentCard._id === card._id ? newCard : currentCard));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item !== card));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n\n  function handleEditProfilePopupOpen() {\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlacePopupOpen() {\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  function handleEditAvatarPopupOpen() {\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            cards={cards}\n            onEditProfile={handleEditProfilePopupOpen}\n            onAddPlace={handleAddPlacePopupOpen}\n            onEditAvatar={handleEditAvatarPopupOpen}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          <EditProfilePopup \n            buttonText={profileSubmitButtonText}\n            isOpen={isEditProfilePopupOpen}\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n          />\n          <AddPlacePopup\n            buttonText={cardSubmitButtonText}\n            isOpen={isAddPlacePopupOpen}\n            onAddPlace={handleAddPlace}\n            onClose={closeAllPopups}\n          >\n          </AddPlacePopup>\n          <EditAvatarPopup \n            buttonText={avatarSubmitButtonText}\n            isOpen={isEditAvatarPopupOpen}\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n          /> \n          <PopupWithForm\n            name=\"confirm\"\n            title=\"Вы уверены?\"\n            buttonText=\"Да\"\n          />\n           { selectedCard && \n          <ImagePopup \n            card={selectedCard} \n            onClose={closeAllPopups}\n          /> \n        }\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}