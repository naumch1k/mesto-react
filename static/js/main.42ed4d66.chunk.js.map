{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","card","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwned","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","aria-label","length","Loader","Main","props","avatar","onEditAvatar","about","onEditProfile","onAddPlace","isLoading","cards","map","onCardClick","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","ImagePopup","api","options","this","_baseUrl","baseUrl","_token","headers","authorization","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","method","body","JSON","stringify","cardId","_deleteLike","_setLike","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","profileSubmitButtonText","setProfileSubmitButtonText","avatarSubmitButtonText","setAvatarSubmitButtonText","cardSubmitButtonText","setCardSubmitButtonText","setCards","selectedCard","setSelectedCard","setIsLoading","closeAllPopups","all","getUserInfo","getCards","userData","cardsData","catch","err","console","log","finally","Provider","changeLikeCardStatus","newCard","state","currentCard","deleteCard","filter","setUserInfo","addNewCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42ed4d66.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.3755f99c.svg\";","import React from 'react';\nimport logoPath from './../images/header-logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header\">\n      <img className=\"header__logo\" src={logoPath} alt=\"Around the U.S. app logo\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwned = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `element__delete-btn ${isOwned ? '' : 'element__delete-btn_hidden'}`\n  );\n\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''}`\n  ); \n\n  const handleClick = () => {\n    onClick(card);\n  }\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return(\n    <li className=\"element\">\n      <img onClick={handleClick} className=\"element__image\" src={card.link} alt={`${card.name}`} />\n      <div className=\"element__desc\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\" aria-label=\"Like image\"></button>\n          <span className=\"element__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Delete image\"></button>\n    </li>\n  );\n\n}\n\nexport default Card; ","import React from 'react';\n\nfunction Loader()  {\n  return (\n    <div className=\"loader\">\n    </div>\n  );\n};\n\nexport default Loader;","import React, { useContext } from 'react';\nimport Card from './Card';\nimport Loader from './Loader';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile content__section\">\n        <div className=\"profile__avatar-container\">\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Profile avatar\" />\n          <button className=\"profile__avatar-btn\" aria-label=\"Update profile picture\"\n          onClick={props.onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__bio\">{currentUser.about}</p>\n          <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Edit profile\"\n          onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Add image\"\n        onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements content__section\">\n        {props.isLoading \n          ? <Loader />\n          : <ul className=\"elements__list\">\n            {props.cards.map((card) => (\n              <Card \n                key={card._id}\n                card={card}\n                onClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n              ))}          \n            </ul>\n        }\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name}  ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_form\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Close popup\"></button>\n        <form onSubmit={props.onSubmit} className=\"form\" name={`${props.name}-form`}>\n        <h2 className=\"form__heading\">{props.title}</h2>\n          <fieldset className=\"form__items\">\n            {props.children}\n          </fieldset>\n          <button className=\"form__submit-btn\" type=\"submit\">{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const handleDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Edit profile\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item form__item_el_name\"\n        id=\"profile-name\" \n        type=\"text\" \n        name=\"name\" \n        placeholder=\"Name\" \n        minLength=\"2\" maxLength=\"40\"\n        value={name}\n        onChange={handleNameChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-name-error\"></p>\n      <input \n        className=\"form__item form__item_el_bio\"\n        id=\"profile-bio\" \n        type=\"text\" \n        name=\"about\" \n        placeholder=\"About me\" \n        minLength=\"2\" maxLength=\"200\" \n        value={description}\n        onChange={handleDescriptionChange}\n        required \n      />\n      <p className=\"form__error\" id=\"profile-bio-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React, { useEffect, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef();\n\n  useEffect(() => {\n    avatarRef.current.value = '';\n  }, [props.isOpen])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  \n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change Profile Picture\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input \n        className=\"form__item\"\n        id=\"avatar-url\"\n        type=\"url\"\n        name=\"avatar\"\n        ref={avatarRef}\n        placeholder=\"Image link\"\n        required \n      />\n      <p className=\"form__error\" id=\"avatar-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  useEffect(() => {\n    setName('');\n    setLink('');\n  }, [props.isOpen])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name,\n      link,\n    })\n  }\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  }\n\n  const handleLinkChange = (e) => {\n    setLink(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New Place\"\n      buttonText={props.buttonText}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n      onClose={props.onClose}\n    >\n      <input\n        className=\"form__item form__item_el_name\"\n        id=\"item-name\"\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Title\"\n        minLength=\"2\" maxLength=\"30\"\n        value={name}\n        onChange={handleNameChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-name-error\"></p>\n      <input\n        className=\"form__item form__item_el_link\"\n        id=\"item-url\"\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Image ink\"\n        value={link}\n        onChange={handleLinkChange}\n        required\n      />\n      <p className=\"form__error\" id=\"item-url-error\"></p>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button onClick={props.onClose} className=\"popup__close-btn\" type=\"button\" aria-label=\"Close popup\"></button>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" src={`${props.card.link}`} alt={`${props.card.name}`} />\n          <figcaption className=\"popup__image-caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","class Api {\n  \n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._token = options.headers.authorization;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._handleResponse)\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this._deleteLike(cardId);\n    } else {\n      return this._setLike(cardId);\n    }\n  }\n\n  _deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  _setLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._handleResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: '2a6d7634-25aa-4e7e-bcf3-8309525480f9',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;\n","import React, { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Jacques Cousteau',\n    about: 'Explorer',\n    avatar: '',\n  });\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n\n  const [profileSubmitButtonText, setProfileSubmitButtonText] = useState('Save');\n  const [avatarSubmitButtonText, setAvatarSubmitButtonText] = useState('Save');\n  const [cardSubmitButtonText, setCardSubmitButtonText] = useState('Create');\n\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    Promise.all([api.getUserInfo(), api.getCards()])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(`Couldnt get data from the server. ${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      }); \n\n  }, [])\n\n  const handleUpdateUser = (data) => {\n    setProfileSubmitButtonText('Saving...');\n\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user info. ${err}`);\n      })\n      .finally(() => {\n        setProfileSubmitButtonText('Save');\n      })\n  }\n\n  const handleAddPlace = (data) => {\n    setCardSubmitButtonText('Creating...');\n\n    api.addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        setAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to publish a card. ${err}`);\n      })\n      .finally(() => {\n        setCardSubmitButtonText('Create');\n      })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    setAvatarSubmitButtonText('Saving...');\n\n    api.setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        setEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Unable to update user avatar. ${err}`);\n      })\n      .finally(() => {\n        setAvatarSubmitButtonText('Save');\n      })\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((currentCard) => currentCard._id === card._id ? newCard : currentCard));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item !== card));\n      })\n      .catch((err) => {\n        console.log(`${err}`);\n      })\n  }\n\n  function handleEditProfilePopupOpen() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlacePopupOpen() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarPopupOpen() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            cards={cards}\n            onEditProfile={handleEditProfilePopupOpen}\n            onAddPlace={handleAddPlacePopupOpen}\n            onEditAvatar={handleEditAvatarPopupOpen}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            isLoading={isLoading}\n          />\n          <Footer />\n          <EditProfilePopup \n            buttonText={profileSubmitButtonText}\n            isOpen={isEditProfilePopupOpen}\n            onUpdateUser={handleUpdateUser}\n            onClose={closeAllPopups}\n          />\n          <AddPlacePopup\n            buttonText={cardSubmitButtonText}\n            isOpen={isAddPlacePopupOpen}\n            onAddPlace={handleAddPlace}\n            onClose={closeAllPopups}\n          >\n          </AddPlacePopup>\n          <EditAvatarPopup \n            buttonText={avatarSubmitButtonText}\n            isOpen={isEditAvatarPopupOpen}\n            onUpdateAvatar={handleUpdateAvatar}\n            onClose={closeAllPopups}\n          /> \n          <PopupWithForm\n            name=\"confirm\"\n            title=\"Are you sure?\"\n            buttonText=\"Yes\"\n          />\n           { selectedCard && \n          <ImagePopup \n            card={selectedCard} \n            onClose={closeAllPopups}\n          /> \n        }\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}